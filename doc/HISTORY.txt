tdmail.pl HISTORY
=========================
  "+" - добавлено;
  "-" - удалено;
  "%" - изменено;
  "!" - справка;
  "?" - todo.
-------------------------

2007/02/06
  % исправления и дополнения в README.html.

2007/01/04
  % изменения в tdmail.pl, касающиеся ошибок в комментариях;
  % определение (define) переменной $silent_mode для правильной работы;
  + вывод строки "Notify function disabled", когда оповещение отключается из 
    командной строки параметром -nosignal;
  % исправления в README.html;
  + добавлено много комментариев в tdmail.pl!

2006/12/28
  + в README.html добавлен параметр командной строки '-nosignal' в разделе 
    "tdmail.pl >> Параметры командной строки";
  + большое количество изменений и дополнений в документации;
  ? вопрос: стоит ли добавлять скрипт, который будет распаковывать архивы,
    раскладывать по директориям и т.п. (почта, справочники, СЭД)?
  ! все изменения, касающиеся обновления справочника БИК с FTP, архива
    антивирусной базы KAV, репликаций справочников СЭД, будут сделаны в
    следующей версии!
  - из README.html убрано упоминание о переменной $nrkc_dir, т.к. входящие файлы
    никуда не раскладываются;

2006/12/27+
  + новый параметр командной строки '-nosignal' -- отключить функцию оповещения.

2006/12/27
  ! подготовка к релизу версии 0.3;
  + большое количество изменений и дополнений в документации;
  ! отдано на бета-тестирование.

2006/12/15
  ! о дополнении от 2006/11/15:
    переменные ($signal_string -- строка оповещения; $signal_pc -- имя рабочей
    станции в сети, на которую необходимо отсылать оповещения) управляют
    "сигнализацией" и доступны для редактирования в tdmail.pl: секция получения
    и копирования файлов (foreach my $localdir (@remotedirs_in) {...});
  - из README.html убрано упоминание о переменной $arc_dir, т.к. архиваторы
    в работе скрипта не используются. пока только закомментировано на случай
    возникновения надобности в будущем.

2006/11/20
  % изменения в документации (разметка README.html, tdmail.css);
  - из конфигурационного файла исключены все упоминания о переменной $arc_dir
    (пока только закомментированы).

2006/11/15
  + при получении новых файлов с рабочей станции, где установлен tdmail, 
    отправляется оповещение на рабочую станцию ответственного за то или иное
    направление в Отделении (используется 'net send').

2006/11/03
  % в README.html изменен текст в благодарностях.

2006/10/19
  % при создании директорий в "архиве" строка об этом в лог-файл не пишется,
    чтобы повысить удобочитаемость лог-файл (и для будущего парсера логов);
    в лог-файл попадет лишь строка о невозможности создания такой директории.
  % функция die_log() применена ещё в нескольких местах скрипта;
  - убрана ненужная строка "$ftp->cwd($remotedir);" в секции отправки файлов;
  + perlre.html: используется таблица стилей tdmail.css;
  % в README.html добавлено упоминание о переменной $report_dir.

2006/10/17
  + копирование квитков о том, что в УФК приняли отправленные файлы, в отдельную
    директорию;
  ! указанное выше дополнение создано для категорий пользователей, отправляющих
    файлы (почту) в директорию \incoming зеркала, но не имеющих доступ к
    директории \outgoing (почта общего характера). например, Бухгалтерия
    отправляет свои письма и отчеты, но она не должна иметь доступ к директории
    с входящей корреспонденцией во избежание потери информации. для получения
    квитков *.r26 (26 - номер отделения) отделами и направлениями, которые не
    должны иметь доступ к \outgoing, создается директория, имя которой
    указывается в переменной $report_dir (tdmail.conf);
  % новая версия tdmail.conf - 1.1 (+ $report_dir).

2006/10/16
  ? копировать квитки о том, что в УФК приняли отправленные файлы, в отдельную
    директорию;
  + $report_dir в tdmail.conf;
  % массив @remotedirs_in: удалено упоминание о 'bank'.

2006/09/27
  ? скачивать файл обновления справочника банков и оставлять на "зеркале",
    чтобы можно было отслеживать изменения. если файл на ftp другой (новый),
    скачивать его, а с "зеркала" удалять старый.

2006/09/22
  % изменены строки вывода лога при получении файлов:
    '10.29.1.2\<dir>\<file> (<size>)' -> '<file> (<size>)';
  % изменены строки вывода лога при отправке файлов:
    '<root>\<dir>\<file>' -> '<file>';
  ? после получения файлов устанавливать настоящую дату/время создания файла
    (перед скачиванием брать эту информацию и сохранять в переменную, после
    скачивания устанавливать).

2006/09/21
  % изменены некоторые строки (ведение лога); добавлены новые строки,
    учитывающие произведенные изменения в коде;
  % добавлены сообщения ftp-сервера в лог;
  % теперь отправка и получение файлов происходит во время одного подключения;
    до этого для получения файлов использовалось одно подключение, для отправки
    соединялись ещё раз;
  + файлы, находящиеся на "зеркале" повторно в архив не копируются;
  % переделана обработка параметра командной строки '-list';
  + новый параметр командной строки '-nodel';
  % дописана документация (README.html);
  - вычищены неиспользуемые функции.

2006/09/20
  % tdmail_receive.pl -> tdmail.pl: до последнего времени назывался по-старому,
    т.к. именно с tdmail_receive.pl (tdmail v0.02) началась разработка
    настоящего скрипта;
  % @remotedirs_clean встречался в программе два раза, что не влияло на
    правильность работы, но для удобства редактирования и отражения этих
    массивов в документации данный массив был переименован:
    @remotedirs_in, @remotedirs_out.

2006/09/19
  + ведение лога в файле $log_file (см. tdmail.conf);
  ! лог-файл создается ежедневно с текущей датой в имени файла для удобства
    просмотра (см. также раздел "Дополнительно" в README.html);
  + собственная функция аварийного завершения -- die_log().

2006/09/18
  % первые шаги к организации "логирования" работы скрипта.

2006/08/16 (альфа)
  ! рождение tdmail.pl "summer in may" v0.3.

